<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商户入驻</title>
    <link rel="stylesheet" href="../../css/Scenic/Scenic_spot.css">
    <link rel="stylesheet" href="../../css/Login/Merchant_entry.css">
</head>
<body>
    <div class="login">
        <div class="login-top">
            <div class="topone">
                <img src="../../img/place-order/xd-pic-slogo.png" alt="">
                <p class="bk"></p>
                <p class="txt">商户入驻</p>
            </div>
        </div>
        <div class="login-content">
            <div class="content1">
                <p>入驻商城信息:<span>请填写以下注册内容</span></p>
            </div>
            <div class="content2">
                <div class="information">
                    <div class="kuang">
                        <div class="kuang-top">
                            <img src="../../img/Login/login-pic-user-01.png" alt="">
                            <p>账号基本信息</p>

                        </div>
                        <div class="kuang-ipt">
                            <ul>
                                <li class="login-dl down"> <span class="title">登录名：</span><input name="false"
                                        type="text" placeholder="请输入登录名" maxlength="20" class="ipt-one username">
                                    <p>登录名为4-20位字符（数字、字母、.、_）</p>
                                </li>
                                <li class="tishi1 tishi"></li>
                                <li class="login-dl">
                                    <form name=form1 action="">
                                        <table width="250" border="0" cellpadding=2" bordercolor="#eeeeee"
                                            style='display:inline'>
                                            <tr>
                                                <td width="92px"
                                                    style="text-align: right; font-size: 12px; color: #333; font-weight: 600;"
                                                    align="right">新密码:&nbsp;&nbsp;</td>
                                                <td colspan="3" align="left">
                                                    <input class="psd" type=password placeholder="请输入6-18位密码" size=20
                                                        onKeyUp=pwStrength(this.value) onBlur=pwStrength(this.value)>
                                                </td>
                                            </tr>
                                            <tr class="qiangdu" align="center">
                                                <td width="20%" id="strength_L" bgcolor="#eeeeee">弱</td>
                                                <td width="20%" id="strength_M" bgcolor="#eeeeee">中</td>
                                                <td width="20%" id="strength_H" bgcolor="#eeeeee">强</td>
                                            </tr>
                                        </table>
                                    </form>
                                </li>
                                <li class="tishi2 tishi"></li>
                                <li> <span class="title">确认登录密码：</span><input type="password" name="false"
                                        placeholder="请输入确认密码" class="ipt-two psdTrue"></li>
                                <li class="tishi3 tishi"></li>
                                <li> <span class="title">手机：</span><input type="text" name="false" placeholder="请输入手机号"
                                        maxlength="11" class="ipt-one tell_ipt"></li>
                                <li class="tishi4 tishi"></li>
                                <li> <span class="title">邮箱：</span><input type="text" name="false" placeholder="请输入邮箱"
                                        class="ipt-one email_ipt"></li>
                                <li class="tishi5 tishi"></li>
                            </ul>
                            <div class="Submission">
                                <button class="submit">提交</button>
                                <button>取消</button>
                            </div>
                        </div>


                    </div>
                </div>
            </div>

        </div>
        <footer>
            <div class="contact">
                <ul class="Hotline">
                    <li class="Hotline_line">
                        <img src="../../img/public-end-icon-phone.png" alt="">
                        <div>
                            <p>服务热线</p>
                            <p>400-123-456</p>
                        </div>
                    </li>
                    <li class="Hotline_line">
                        <img src="../../img/public-end-icon-mail.png" alt="">
                        <p style="line-height: 2.9;">意见反馈</p>
                    </li>
                </ul>
                <ul class="Opinion">
                    <li class="first_title">手游新疆旅游网</li>
                    <li>覆盖全疆100多个县</li>
                    <li>10,000,000</li>
                    <li>8030家酒店</li>
                    <li>1000家新疆特色餐饮</li>
                    <li>手游新疆APP带您领略新疆风貌</li>
                </ul>
                <ul class="Opinion">
                    <li class="first_title">关于我们</li>
                    <li>关于手游新疆</li>
                    <li>联系我们</li>
                    <li>隐私政策</li>
                    <li>商标声明</li>
                    <li>新疆非遗入住协议</li>
                    <li>商城平台服务协议</li>
                    <li>网站地图</li>
                </ul>
                <ul class="Opinion">
                    <li class="first_title">快速导航</li>
                    <li>门票购买</li>
                    <li>线路选择</li>
                    <li>旅游特价</li>
                    <li>租车服务</li>
                    <li>旅游问答</li>
                    <li>订火车票</li>
                    <li>订购机票</li>
                    <li>旅游保险</li>
                    <li>旅游资讯</li>
                    <li>APP下载</li>
                </ul>
                <div class="QR_code">
                    <p class="first_title" style="margin-bottom: 13px;">手游新疆App</p>
                    <img src="../../img/public-end-ewm-1.jpg" alt="">
                    <p class="QR_code_content">下载有惊喜哦</p>
                </div>
                <div class="QR_code">
                    <p class="first_title" style="margin-bottom: 13px;">手游新疆公众号</p>
                    <img src="../../img/public-end-ewm-2.jpg" alt="">
                    <p class="QR_code_content">快来关注我吧</p>
                </div>

            </div>
            <div class="link">
                <p>集团网站:<span>手游新疆资讯网</span><span>手游新疆XX网</span><span>手游新疆XX网</span><span>手游新疆XX网</span><span>手游新疆XX网</span><span>手游新疆XX网</span><span>手游新疆XX网</span>
                </p>
                <p>友情链接:<span>百度网旅游</span>
                    <span>途牛网旅游</span>
                    <span>人民网旅游</span>
                    <span>奇艺旅游</span>
                </p>
            </div>
            <div class="website">
                <div class="love">
                    <p>新疆的旅游路上,我们一直都在</p>
                    <p><img src="../../img/public-end_icon-1.png" alt=""><img src="../../img/public-end_icon-2.png"
                            alt=""><img src="../../img/public-end_icon-3.png" alt=""></p>
                </div>
                <div class="Development">
                    <p><img src="../../img/public-bot-logo.png" alt=""></p>
                    <p><span>手游新疆</span><span>域名(www.shouyouxinjiang.com) 版权所有</span><span>新ICP备18001279号-1</span></p>
                    <p><span>新公安网安备 65230102652521</span><span>新网文[2018]10409-11号</span><span>增值电信业务经营许可证:新B2-20180050
                        </span></p>
                </div>
            </div>

        </footer>
</body>
<script src="../../js/Root/root.js"></script>
<script src="../../js/jquery-2.1.4.min.js"></script>
<script src="../../js/jquery.min.js"></script>
<script language=javascript>
    var pwdStrength = "";
    //判断输入密码的类型  
    function CharMode(iN) {
        if (iN >= 48 && iN <= 57) //数字  
            return 1;
        if (iN >= 65 && iN <= 90) //大写  
            return 2;
        if (iN >= 97 && iN <= 122) //小写  
            return 4;
        else
            return 8;
    }
    //bitTotal函数  
    //计算密码模式  
    function bitTotal(num) {
        modes = 0;
        for (i = 0; i < 4; i++) {
            if (num & 1) modes++;
            num >>>= 1;
        }
        return modes;
    }
    //返回强度级别  
    function checkStrong(sPW) {
        if (sPW.length < 6)
            return 0; //密码太短，不检测级别
        Modes = 0;
        for (i = 0; i < sPW.length; i++) {
            //密码模式  
            Modes |= CharMode(sPW.charCodeAt(i));
        }
        return bitTotal(Modes);
    }

    //显示颜色  
    function pwStrength(pwd) {
        Dfault_color = "#eeeeee";        //默认颜色
        L_color = "rgba(255,0,0)";        //低强度的颜色，且只显示在最左边的单元格中
        M_color = "rgba(255, 155, 0)";        //中等强度的颜色，且只显示在左边两个单元格中
        H_color = "rgba(0, 204, 102)";       //高强度的颜色，三个单元格都显示
        if (pwd == null || pwd == '') {
            Lcolor = Mcolor = Hcolor = Dfault_color;
        }
        else {
            S_level = checkStrong(pwd);
            switch (S_level) {
                case 0:
                    Lcolor = Mcolor = Hcolor = Dfault_color;
                    // pwdStrength="1"
                    break;
                case 1:
                    Lcolor = L_color;
                    Mcolor = Hcolor = Dfault_color;
                    pwdStrength = "1"
                    break;
                case 2:
                    Lcolor = Mcolor = M_color;
                    Hcolor = Dfault_color;
                    pwdStrength = "2"
                    break;
                default:
                    Lcolor = Mcolor = Hcolor = H_color;
                    pwdStrength = "3"
            }
        }
        document.getElementById("strength_L").style.background = Lcolor;
        document.getElementById("strength_M").style.background = Mcolor;
        document.getElementById("strength_H").style.background = Hcolor;
        return;
    }
    //用户名验证
    $(".username").blur(function () {
        usernames()
    })


    function usernames() {
        var usersZ = /^[a-zA-Z0-9、_]{4,20}$/;
        var useript = $(".username").val();
        if (useript != '') {
            $(".tishi1").css("display", "none")
            var res = usersZ.test(useript)
            if (res == false) {
                $(".username").attr("name", "false")
                $(".tishi1").css("display", "block")
                $(".tishi1").html("登录名为4-20位字符（数字、字母、.、_）")
            }
            else {
                $(".username").attr("name", "true")
                $(".tishi1").css("display", "none")
                url = "http://www.shouyouxinjiang.com/store/checkLoginName";
                $.ajaxSettings.async = false;
                $.ajax({
                    type: 'get',//类型
                    url: url,//地址
                    dataType: 'json',
                    // xhrFields: {
                    //     withCredentials: true
                    // },
                    // crossDomain: true,
                    async: false,
                    data: {
                        "storeAccountModel.loginName": useript
                        // ranNum: Math.random()
                    },
                    //请求成功
                    success: function (data) {
                        if (data == false) {
                            $(".username").attr("name", "false")
                            $(".tishi1").css("display", "block")
                            $(".tishi1").html("用户名已存在")
                        } else {
                            $(".tishi1").css("display", "none")
                            $(".username").attr("name", "true")
                        }

                    }
                })
            }
        } else {
            $(".tishi1").css("display", "block")
            $(".tishi1").html("用户名不能为空!")
        }

    }
    //密码校验
    $(".psd").blur(function () {
        psds()
    })
    function psds() {
        var psd = $(".psd").val()
        var psdLength = psd.length;
        if (psd == '') {
            $(".tishi2").css("display", "block")
            $(".tishi2").html("密码不能为空")

        } else {
            $(".tishi2").css("display", "none")
            if (psdLength < 6) {
                $(".tishi2").css("display", "block")
                $(".tishi2").html("请输入6-18位密码")

            } else {
                $(".tishi2").css("display", "none")

            }
        }
    }
    $(".psdTrue").blur(function () {
        psdTrues()
    })
    //密码重复验证
    function psdTrues() {
        var psd = $(".psd").val();
        var psdTrue = $(".psdTrue").val();
        if (psdTrue == '') {
            $(".psdTrue").attr("name", "false")
            $(".tishi3").css("display", "block")
            $(".tishi3").html("密码不能为空")

        } else {
            $(".psdTrue").attr("name", "true")
            $(".tishi3").css("display", "none")
            if (psd != psdTrue) {
                $(".psdTrue").attr("name", "false")
                $(".tishi3").css("display", "block")
                $(".tishi3").html("两次密码输入不一致~")

            } else {
                $(".psdTrue").attr("name", "true")
                $(".tishi3").css("display", "none")
            }
        }

    }
    //手机号校验
    $(".tell_ipt").blur(function () {
        tells()
    })
    function tells() {
        var tell = $(".tell_ipt").val();
        if (tell == '') {
            $(".tell_ipt").attr("name", "false")
            $(".tishi4").css("display", "block")
            $(".tishi4").html("请输入手机号!")
        } else {
            $(".tell_ipt").attr("name", "true")
            $(".tishi4").css("display", "none")
            var myreg = /^[1][3,4,5,6,7,8,9][0-9]{9}$/;
            if (!myreg.test(tell)) {
                $(".tell_ipt").attr("name", "false")
                $(".tishi4").css("display", "block")
                $(".tishi4").html("请输入合法手机号!")
            } else {
                $(".tell_ipt").attr("name", "true")
                $(".tishi4").css("display", "none")
                url = "http://www.shouyouxinjiang.com/store/checkMobile";
                $.ajaxSettings.async = false;
                $.ajax({
                    type: 'get',//类型
                    url: url,//地址
                    dataType: 'json',
                    // xhrFields: {
                    //     withCredentials: true
                    // },
                    // crossDomain: true,
                    async: false,
                    data: {
                        "storeAccountModel.mobile": tell
                        // ranNum: Math.random()
                    },
                    //请求成功
                    success: function (data) {
                        if (data == false) {
                            $(".tell_ipt").attr("name", "false")
                            $(".tishi4").css("display", "block")
                            $(".tishi4").html("手机号已注册")
                        } else {
                            $(".tell_ipt").attr("name", "true")
                            $(".tishi4").css("display", "none")
                        }

                    }
                })
            }
        }
    }
    //邮箱验证
    $(".email_ipt").blur(function () {
        emails()
    })
    function emails() {
        var email = $(".email_ipt").val();
        var emailyz = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;
        if (email == '') {
            $(".email_ipt").attr("name", "false");
            $(".tishi5").css("display", "block");
            $(".tishi5").html("请输入邮箱账号!");
        } else {
            $(".email_ipt").attr("name", "true");
            $(".tishi5").css("display", "none");
            if (!emailyz.test(email)) {
                $(".tishi5").css("display", "block");
                $(".tishi5").html("请输入合法邮箱");
            } else {
                $(".email_ipt").attr("name", "true");
                $(".tishi5").css("display", "block");
                url = "http://www.shouyouxinjiang.com/store/checkEmail";
                $.ajaxSettings.async = false;
                $.ajax({
                    type: 'get',//类型
                    url: url,//地址
                    dataType: 'json',
                    // xhrFields: {
                    //     withCredentials: true
                    // },
                    // crossDomain: true,
                    async: false,
                    data: {
                        "storeAccountModel.email": email
                        // ranNum: Math.random()
                    },
                    //请求成功
                    success: function (data) {
                        if (data == false) {
                            $(".email_ipt").attr("name", "false");
                            $(".tishi5").css("display", "block")
                            $(".tishi5").html("邮箱已注册")
                        } else {
                            $(".email_ipt").attr("name", "true");
                            $(".tishi5").css("display", "none")
                        }

                    }
                })
            }
        }
    }

    $(".submit").click(function () {
        usernames()
        psds();
        psdTrues();
        tells();
        emails();
        var usernameYZ = $(".username").attr("name");
        var username = $(".username").val();
        var psd = $(".psd").val();
        var psdTrueYZ = $(".psdTrue").attr("name");
        var psdTrue = $(".psdTrue").val();
        var tell_iptYZ = $(".tell_ipt").attr("name");
        var tell_ipt = $(".tell_ipt").val();
        var email_iptYZ = $(".email_ipt").attr("name");
        var email_ipt = $(".email_ipt").val();
        if (usernameYZ != "true" || psdTrueYZ != "true" || tell_iptYZ != "true" || email_iptYZ != "true") {
            alert("请填写必填项!")
        } else {
            url = "http://www.shouyouxinjiang.com/store/storeAdd";
            $.ajaxSettings.async = false;
            $.ajax({
                type: 'post',//类型
                url: url,//地址
                dataType: 'json',
                // xhrFields: {
                //     withCredentials: true
                // },
                // crossDomain: true,
                async: false,
                data: {
                    "storeAccountModel.loginName": username,
                    "storeAccountModel.mobile": tell_ipt,
                    "storeAccountModel.pwd": psd,
                    "storeAccountModel.email": email_ipt
                    // ranNum: Math.random()
                },
                //请求成功
                success: function (data) {
                    console.log(data)
                }
            })
        }
    })
</script>

</html>